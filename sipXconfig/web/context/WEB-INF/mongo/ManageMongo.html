<div jwcid="@common/Border" useDojo="ognl:true" borderTitle="ognl:borderTitle">
  <span jwcid="@common/QuickHelp" value="message:quick.help" />
   <span jwcid="@common/ErrorMsg"/>
   <div jwcid="@If" condition="ognl:mongoReplicaSetManager2.operationIsProgress">
     Operation in progress....
   </div>
  <form jwcid="form@Form" delegate="bean:validator" listener="listener:takeAction">
    <ul class="component-links">
      <li>
	    <select jwcid="@Select" value="ognl:serverName" id="serverName">
	      <option value=""><span key="label.selectServer"/></option>
		  <span jwcid="@For" source="ognl:serverNames" value="ognl:currentServerName">
		    <option jwcid="@Option" selected="ognl:serverNameSelected" label="ognl:currentServerName"/>
	      </span>
        </select>

	    <select jwcid="@Select" value="ognl:serverAction" id="serverAction" 
	        onchange="literal:javascript:this.form.submit();">
	      <option value=""><span key="label.selectServerAction"/></option>
		  <span jwcid="@For" source="ognl:serverActions" value="ognl:currentServerAction">
		    <option jwcid="@Option" selected="ognl:serverActionSelected" label="ognl:messages.getMessage(currentServerAction)"/>
	      </span>
        </select>
      </li>
    </ul>
    <table jwcid="nodes@common/Table" id="nodes:list"
      columns="* !name,!state,!action"
      source="ognl:mongos.values()"
      row="ognl:mongo"
      converter="ognl:converter">
      <span jwcid="nameColumnValue@Block">
        <img jwcid="@Image" image="ognl:statusAsset" align="absmiddle"/>
        <span jwcid="@Insert" value="ognl:mongo.serverId" />
        <span jwcid="@If" condition="ognl:mongo.errMsg != null"> 
          <span jwcid="@Insert" value="ognl:mongo.errMsg"/>
        </span>
      </span>
      <span jwcid="stateColumnValue@Block">
          <span jwcid="@Insert" value="ognl:messages.getMessage(mongo.state)"/>
      </span>
      <span jwcid="actionColumnValue@Block">      
		  <span jwcid="@For" source="ognl:specificServerActions" value="ognl:currentSpecificServerAction">
             <input jwcid="@Submit" id="mongo:action" value="ognl:messages.getMessage(currentSpecificServerAction)" 
               listener="listener:onSpecificServerAction" parameters="ognl:{currentSpecificServerAction, mongo.serverLabel}"/>
	      </span>	      
      </span>
    </table>
	<ul class="component-submit">
	  <li>
	    <input id="mongo:refresh"
	      jwcid="@Submit"
	      value="message:button.refresh"
	      listener="listener:refresh"/>
	  </li>
    </ul>    
  </form>
</div>
