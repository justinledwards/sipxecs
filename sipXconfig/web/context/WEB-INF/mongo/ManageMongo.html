<div jwcid="@common/Border" useDojo="ognl:true" borderTitle="ognl:borderTitle">
  <span jwcid="@common/QuickHelp" value="message:quick.help" />
   <span jwcid="@common/ErrorMsg"/>
  <form jwcid="form@Form" delegate="bean:validator" listener="listener:takeAction">
    <ul class="component-links">
      <li>
	    <select jwcid="@Select" value="ognl:serverName" id="serverName">
	      <option value=""/>
		  <span jwcid="@For" source="ognl:serverNames" value="ognl:currentServerName">
		    <option jwcid="@Option" selected="ognl:serverNameSelected" label="ognl:currentServerName"/>
	      </span>
        </select>

	    <select jwcid="@Select" value="ognl:serverAction" id="serverAction" 
	        onchange="literal:javascript:this.form.submit();">
	      <option value=""/>
		  <span jwcid="@For" source="ognl:serverActions" value="ognl:currentServerAction">
		    <option jwcid="@Option" selected="ognl:serverActionSelected" label="ognl:messages.getMessage(currentServerAction)"/>
	      </span>
        </select>
      </li>
    </ul>
    <table jwcid="nodes@common/Table" id="nodes:list"
      columns="* !name,!state,!action"
      source="ognl:mongos.values()"
      row="ognl:mongo"
      converter="ognl:converter">
      <span jwcid="nameColumnValue@Block">
        <span jwcid="@If" condition="ognl:mongo.health == 'UP'">
          <img jwcid="@Image" image="asset:runningIcon" align="absmiddle" />
        </span>
        <span jwcid="@If" condition="ognl:mongo.health == 'DOWN'">
          <img jwcid="@Image" image="asset:errorIcon" align="absmiddle" />
        </span>
        <span jwcid="@If" condition="ognl:mongo.health == 'UNCONFIGURED'">
          <img jwcid="@Image" image="asset:unconfiguredIcon" align="absmiddle" />
        </span>
        <span jwcid="@Insert" value="ognl:mongo.serverId" />
        <span jwcid="@If" condition="ognl:mongo.errMsg != null"> 
          <span jwcid="@Insert" value="ognl:mongo.errMsg"/>
        </span>
      </span>
      <span jwcid="stateColumnValue@Block">
          <span jwcid="@Insert" value="ognl:mongo.getStatusValue('stateStr')"/>
      </span>
      <span jwcid="actionColumnValue@Block">
	    <select jwcid="specificServerAction@Select" value="ognl:specificServerAction" id="specificServerAction"
	       onchange="literal:javascript:this.form.submit();">
	      <option value=""/>
		  <span jwcid="@For" source="ognl:specificServerActions" value="ognl:currentSpecificServerAction">
		    <option jwcid="@Option" selected="ognl:specificServerActionSelected" label="ognl:messages.getMessage(currentSpecificServerAction)"/>
	      </span>
        </select>            
      </span>
    </table>
  </form>
</div>
